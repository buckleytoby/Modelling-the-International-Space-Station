<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type0" id="S2T0U3">x_ekf</span>, <span class="var type0" id="S3T0U4">P_ekf</span>, <span class="var type0" id="S4T0U5">z_ekf_pre</span>, <span class="var type0" id="S5T0U6">z_ekf_post</span>, <span class="var type1" id="S6T3U7">PHI</span>, <span class="var type1" id="S7T3U8">B</span>] = fcn(<span class="var type1" id="S8T1U11">x</span>, <span class="var type1" id="S9T1U12">y_meas</span>, <span class="var type1" id="S10T2U13">u</span>, <span class="var type1" id="S11T2U14">dt</span>, <span class="var type1" id="S12T3U15">I_principle</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">2</a></span><span class="line">  <span class="var type1" id="S13T3U16">P</span>, <span class="var type1" id="S14T3U17">Q</span>, <span class="var type1" id="S15T3U18">R</span>, <span class="var type1" id="S16T3U19">H</span>, <span class="var type1" id="S17T2U20">t</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">3</a></span><span class="line"><span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">4</a></span><span class="line">[ <span class="mxinfo " id="T3:U13"><span class="var type1" id="S6T3U24">PHI</span></span>, <span class="mxinfo " id="T3:U15"><span class="var type1" id="S7T3U25">B</span></span> ] = <span class="fcn" id="F2N4:B27">linearEuler</span>( <span class="var type1" id="S9T1U28">y_meas</span>, <span class="var type1" id="S11T2U29">dt</span>, <span class="var type1" id="S12T3U30">I_principle</span> );</span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">5</a></span><span class="line"><span class="message error" id="M1F1C">[ <span class="var type0" id="S19T0U34"><span class="message error" id="M2F1C">x_k</span></span>, <span class="var type0" id="S3T0U35"><span class="message error" id="M3F1C">P_ekf</span></span>, <span class="var type0" id="S4T0U36"><span class="message error" id="M4F1C">z_ekf_pre</span></span>, <span class="var type0" id="S5T0U37"><span class="message error" id="M5F1C">z_ekf_post</span></span> ] = <span class="fcn" id="F17N2:B39">EKF</span>( <span class="var type1" id="S8T1U40">x</span>, <span class="var type1" id="S9T1U41">y_meas</span>, <span class="var type1" id="S10T2U42">u</span>, <span class="var type1" id="S6T3U43">PHI</span>, <span class="var type1" id="S7T3U44">B</span>, <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">6</a></span><span class="line"><span class="message error" id="M1F1C">            <span class="var type1" id="S13T3U45">P</span>, <span class="var type1" id="S14T3U46">Q</span>, <span class="var type1" id="S15T3U47">R</span>, <span class="var type1" id="S16T3U48">H</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">7</a></span><span class="line">          </span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">8</a></span><span class="line"><span class="var type0" id="S2T0U51">x_ekf</span> = <span class="var type0" id="S19T0U52"><span class="message error" id="M6F1C">x_k</span></span>;</span></span>
</pre>
