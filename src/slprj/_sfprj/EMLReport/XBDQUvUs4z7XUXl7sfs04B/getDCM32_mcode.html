<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="29,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S2T8U3">A</span> ] = getDCM( <span class="var type1" id="S3T8U6">triad1</span>, <span class="var type1" id="S4T8U7">triad2</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="29,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%GETDCM calculate direction cosine matrix between two right-handed triads</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%   if triad1 = principle frame &amp; triad2 = global frame, then A = DCM FROM</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">%   global TO principle</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="29,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">% triad = [ x_vector, y_vector, z_vector ], i_vector = 3x1</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">% v_triad1 = A * v_triad2</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">% v_triad2 = A' * v_triad1</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T2:U4"><span class="var type1" id="S5T2U10">x1</span> = <span class="mxinfo " id="T2:U6"><span class="var type1" id="S3T8U12">triad1</span>(<span class="mxinfo " id="T23:U8">:</span>,<span class="mxinfo " id="T11:U9">1</span>)</span></span>; <span class="mxinfo " id="T2:U10"><span class="var type1" id="S6T2U17">y1</span> = <span class="mxinfo " id="T2:U12"><span class="var type1" id="S3T8U19">triad1</span>(<span class="mxinfo " id="T23:U14">:</span>,<span class="mxinfo " id="T11:U15">2</span>)</span></span>; <span class="mxinfo " id="T2:U16"><span class="var type1" id="S7T2U24">z1</span> = <span class="mxinfo " id="T2:U18"><span class="var type1" id="S3T8U26">triad1</span>(<span class="mxinfo " id="T23:U20">:</span>,<span class="mxinfo " id="T11:U21">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T2:U22"><span class="var type1" id="S8T2U31">x2</span> = <span class="mxinfo " id="T2:U24"><span class="var type1" id="S4T8U33">triad2</span>(<span class="mxinfo " id="T23:U26">:</span>,<span class="mxinfo " id="T11:U27">1</span>)</span></span>; <span class="mxinfo " id="T2:U28"><span class="var type1" id="S9T2U38">y2</span> = <span class="mxinfo " id="T2:U30"><span class="var type1" id="S4T8U40">triad2</span>(<span class="mxinfo " id="T23:U32">:</span>,<span class="mxinfo " id="T11:U33">2</span>)</span></span>; <span class="mxinfo " id="T2:U34"><span class="var type1" id="S10T2U45">z2</span> = <span class="mxinfo " id="T2:U36"><span class="var type1" id="S4T8U47">triad2</span>(<span class="mxinfo " id="T23:U38">:</span>,<span class="mxinfo " id="T11:U39">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo " id="T8:U40"><span class="var type1" id="S2T8U52">A</span> = <span class="mxinfo " id="T8:U42">[<span class="mxinfo " id="T22:U43"><span class="mxinfo " id="T3:U44">dot(<span class="var type1" id="S5T2U57">x1</span>, <span class="var type1" id="S8T2U58">x2</span>)</span>, <span class="mxinfo " id="T3:U47">dot(<span class="var type1" id="S5T2U61">x1</span>, <span class="var type1" id="S9T2U62">y2</span>)</span>, <span class="mxinfo " id="T3:U50">dot(<span class="var type1" id="S5T2U65">x1</span>, <span class="var type1" id="S10T2U66">z2</span>)</span></span>; <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="29,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T8:U40"><span class="mxinfo " id="T8:U42">     <span class="mxinfo " id="T22:U53"><span class="mxinfo " id="T3:U54">dot(<span class="var type1" id="S6T2U70">y1</span>, <span class="var type1" id="S8T2U71">x2</span>)</span>, <span class="mxinfo " id="T3:U57">dot(<span class="var type1" id="S6T2U74">y1</span>, <span class="var type1" id="S9T2U75">y2</span>)</span>, <span class="mxinfo " id="T3:U60">dot(<span class="var type1" id="S6T2U78">y1</span>, <span class="var type1" id="S10T2U79">z2</span>)</span></span>; <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="29,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T8:U40"><span class="mxinfo " id="T8:U42">     <span class="mxinfo " id="T22:U63"><span class="mxinfo " id="T3:U64">dot(<span class="var type1" id="S7T2U83">z1</span>, <span class="var type1" id="S8T2U84">x2</span>)</span>, <span class="mxinfo " id="T3:U67">dot(<span class="var type1" id="S7T2U87">z1</span>, <span class="var type1" id="S9T2U88">y2</span>)</span>, <span class="mxinfo " id="T3:U70">dot(<span class="var type1" id="S7T2U91">z1</span>, <span class="var type1" id="S10T2U92">z2</span>)</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,14" id="srcline14">14</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="29,15" id="srcline15">15</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,16" id="srcline16">16</a></span><span class="line"></span></span>
</pre>
